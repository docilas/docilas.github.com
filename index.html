<!DOCTYPE html(lang='en')>
<head>
  <title>three.js webgl - effects - anaglyph</title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/>
  <link rel="stylesheet" href="assets/css/style.css"/>
</head>
<body>
  <div id="title">
    <h1>CHESTER</h1>
  </div>
  <svg class="svg-filters" xmlns="http://www.w3.org/2000/svg" version="1.1">
    <defs>
      <filter id="filter">
        <feturbulence type="fractalNoise" basefrequency="0 0.5" numoctaves="1" result="wrap"></feturbulence>
        <fedisplacementmap xchannelselector="R" ychannelselector="G" scale="30" in="SourceGraphic" in2="wrap"></fedisplacementmap>
      </filter>
    </defs>
    <defs>
      <filter id="glitch" x="0" y="0">
        <fecolormatrix in="SourceGraphic" mode="matrix" values="1 0 0 0 0  0 0 0 0 0  0 0 1 0 0  0 0 0 1 0" result="r"></fecolormatrix>
        <feoffset in="r" result="r" dx="-0.820318">
          <animate attributename="dx" attributetype="XML" values="0; -5; 0; -18; -2; -4; 0;-3; 0" dur="0.2s" repeatcount="indefinite"></animate>
        </feoffset>
        <fecolormatrix in="SourceGraphic" mode="matrix" values="0 0 0 0 0  0 1 0 0 0  0 0 0 0 0  0 0 0 1 0" result="g"></fecolormatrix>
        <feoffset in="g" result="g" dx="-2.18229" dy="1">
          <animate attributename="dx" attributetype="XML" values="0; 0; 0; -3; 0; 8; 0;-1; 0" dur="0.15s" repeatcount="indefinite"></animate>
        </feoffset>
        <fecolormatrix in="SourceGraphic" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0" result="b"></fecolormatrix>
        <feblend in="r" in2="g" mode="screen" result="blend"></feblend>
        <feblend in="blend" in2="b" mode="screen" result="blend"></feblend>
      </filter>
    </defs>
    <defs>
      <filter id="glitch2" x="0" y="0">
        <fecolormatrix in="SourceGraphic" mode="matrix" values="1 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" result="r"></fecolormatrix>
        <feoffset in="r" result="r" dx="1.50167">
          <animate class="animate-1" attributename="dx" attributetype="XML" values="91.6; 25; 0; 4; -2; -2; 0 ;-3; 0" dur="2s" repeatcount="indefinite"></animate>
        </feoffset>
        <fecolormatrix in="SourceGraphic" mode="matrix" values="0 0 0 0 0  0 1 0 0 0  0 0 0 0 0  0 0 0 1 0" result="g"></fecolormatrix>
        <feoffset in="g" result="g" dx="-1.50167" dy="1">
          <animate class="animate-2" attributename="dx" attributetype="XML" values="-91.6; -25; 0; -3; 0; 2; 0 ;-1; 0" dur="2s" repeatcount="indefinite"></animate>
        </feoffset>
        <fecolormatrix in="SourceGraphic" mode="matrix" values="0 0 0 0 0 0 0 0 0 0  0 0 1 0 0  0 0 0 1 0" result="b"></fecolormatrix>
        <feoffset in="b" result="b" dx="0" dy="0">
          <animate class="animate-3" attributename="dx" attributetype="XML" values="0; 3; -1; 0; 0; 2; 0 ;4; 0" dur="0.2s" repeatcount="indefinite"></animate>
        </feoffset>
        <feblend in="r" in2="g" mode="screen" result="blend"></feblend>
        <feblend in="blend" in2="b" mode="screen" result="blend"></feblend>
      </filter>
    </defs>
  </svg>
  <script id="vertexShader" type="x-shader/x-vertex">
    precision highp float;
    
    uniform float sineTime;
    
    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    
    attribute vec3 position;
    attribute vec3 offset;
    attribute vec4 orientationStart;
    attribute vec4 orientationEnd;
    
    varying vec3 vPosition;
    void main(){
    
    	vPosition = offset * max(abs(sineTime * 2.0 + 1.0), 0.5) + position;
    	vec4 orientation = normalize(mix(orientationStart, orientationEnd, sineTime));
    	vec3 vcV = cross(orientation.xyz, vPosition);
    	vPosition = vcV * (2.0 * orientation.w) + (cross(orientation.xyz, vcV) * 2.0 + vPosition);
    
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( vPosition, .50 );
    
    }
    
    
    
    
    
  </script>
  <script src="assets/js/lib.min.js"></script>
  <script src="assets/js/main.js"></script>
</body>