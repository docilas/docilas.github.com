"use strict";function switchUserControl(t){user_control=t,hat1.interactive=t,hat2.interactive=t,hat3.interactive=t}function startGame(){swap_times=10,TweenMax.to(btnStart,.5,{alpha:0}),TweenMax.set(btnStart,{y:-100,delay:.5}),TweenMax.to([hat1,hat2,hat3],.75,{y:760,delay:.75,onComplete:swapHat})}function swapHat(){user_control=!1,coin.visible=!1,swap_times>0?(next_sq=shuffle(now_sq),TweenMax.to(hat_obj[now_sq[0]],.5,{x:hat_obj[next_sq[0]].x}),TweenMax.to(hat_obj[now_sq[1]],.5,{x:hat_obj[next_sq[1]].x}),TweenMax.to(hat_obj[now_sq[2]],.5,{x:hat_obj[next_sq[2]].x,onComplete:swapHat}),now_sq=next_sq,swap_times--):(TweenMax.set(coin,{x:hat2.x}),TweenMax.to(tips,.5,{y:150}),switchUserControl(!0),coin.visible=!0)}function shuffle(t){var e,a,n,o=t.length,s=[].concat(t);for(a=Math.floor(Math.random()*o),n=Math.floor(Math.random()*o);n==a;)n=Math.floor(Math.random()*o);return e=s[a],s[a]=s[n],s[n]=e,s}function chooseHat(t){if(switchUserControl(!1),TweenMax.set(tips,{y:-100}),TweenMax.set([hat1.scale,hat2.scale,hat3.scale],{x:.5,y:.5}),"hat2"==this.name){var e=Math.floor(Math.random()*(coins.length-1)+1);coin.texture=PIXI.Texture.fromImage(coins[e]),TweenMax.to(hat2,.5,{y:620,delay:.75}),result.text="YOU WIN!!"}else coin.texture=PIXI.Texture.fromImage(coins[0]),TweenMax.to([hat1,hat2,hat3],.5,{y:620,delay:.75}),result.text="YOU LOSE!!";TweenMax.to(result,.5,{y:150,delay:.5}),TweenMax.set(btnStart,{y:app.renderer.height/2,delay:2}),TweenMax.to(btnStart,.5,{alpha:1,delay:2}),TweenMax.set(result,{y:-100,delay:2})}var imgs=["assets/images/stage.jpg","assets/images/hat.png"],coins=["assets/images/coin.png","assets/images/animal1.png","assets/images/animal2.png","assets/images/animal3.png","assets/images/animal4.png","assets/images/animal5.png","assets/images/animal6.png","assets/images/animal7.png"],now_sq=["hat1","hat2","hat3"],next_sq=[],hat_obj={},swap_times=10,user_control=!1,btnStart=void 0,hat1=void 0,hat2=void 0,hat3=void 0,coin=void 0,result=void 0,tips=void 0,app=new PIXI.Application(1200,900);document.getElementById("canvas").appendChild(app.view);var loader=new PIXI.loaders.Loader;loader.add(imgs).add(coins),loader.load(function(t,e){var a,n=new PIXI.Sprite.fromImage(imgs[0]);n.width=app.renderer.width,n.height=app.renderer.height;var o=new PIXI.TextStyle({fontFamily:"Comic Sans MS",fontSize:100,fontWeight:"bold",fill:"#fff",stroke:"#333",strokeThickness:6,dropShadow:!0,dropShadowColor:"#000",dropShadowBlur:20,dropShadowAngle:Math.PI/2,dropShadowDistance:5});(result=new PIXI.Text("",o)).anchor.set(.5),result.position={x:app.renderer.width/2,y:-100},(tips=new PIXI.Text("CHOOSE ONE!",o)).anchor.set(.5),tips.position={x:app.renderer.width/2,y:-100},(btnStart=new PIXI.Text("START",o)).anchor.set(.5),btnStart.position={x:app.renderer.width/2,y:app.renderer.height/2},btnStart.buttonMode=!0,btnStart.interactive=!0,btnStart.on("pointerdown",startGame),(coin=new PIXI.Sprite.fromImage(coins[0])).anchor.set(.5),coin.scale.set(.5),coin.position={x:app.renderer.width/2,y:785},hat1=new PIXI.Sprite.fromImage(imgs[1]),hat2=new PIXI.Sprite.fromImage(imgs[1]),hat3=new PIXI.Sprite.fromImage(imgs[1]);for(var s=[hat1,hat2,hat3],i=0;i<s.length;i++)s[i].anchor.set(.5),s[i].scale.set(.5),s[i].position={x:app.renderer.width/2-280+280*i,y:620},s[i].buttonMode=!0,s[i].interactive=!1,s[i].name="hat"+(i+1),s[i].on("pointerdown",chooseHat),s[i].on("mouseover",function(t){user_control&&TweenMax.to(this.scale,.3,{x:.53,y:.53})}),s[i].on("mouseout",function(t){user_control&&TweenMax.to(this.scale,.3,{x:.5,y:.5})});(a=app.stage).addChild.apply(a,[n,coin].concat(s,[result,tips,btnStart])),hat_obj={hat1:hat1,hat2:hat2,hat3:hat3}});